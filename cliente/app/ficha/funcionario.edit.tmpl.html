<form name="formEdit" novalidate ng-submit="crudVm.save($event, formEdit.$valid)">

    <div class="md-fab-bottom-right app-fixed-bottom-right">

        <button type="submit" class="md-button md-fab"  aria-label="save" >
            <ng-md-icon icon="save"></ng-md-icon>
        </button>

        <md-button class="md-fab "  aria-label="Delete" ng-click="crudVm.cancel($event)" >
            <ng-md-icon icon="cancel"></ng-md-icon>
        </md-button>
    </div>



    <md-card>


        <md-card-content>
            <md-card-title>
                <md-card-title-text>
                    <span> 
                        <div flex layout="row">
                            <md-input-container flex="33" class="md-block" flex-gt-xs>
                                <label>Código</label>
                                <input  name="codigo" ng-model="crudVm.entity.pessoaId">


                            </md-input-container>
                            <md-input-container flex="33" class="md-block" flex-gt-xs>
                                <label>Nome</label>
                                <input  name="nome" ng-model="crudVm.entity.pessoa.nome" required>
                                <div ng-messages="formEdit.nome.$error">
                                    <div ng-message="required">Campo obrigatório.</div>
                                </div>

                            </md-input-container>
                        </div>

                    </span>
                </md-card-title-text>
                <md-card-title-media>
                    <div class="md-media-sm card-media"> 
                        <img width="100" class="md-card-image" src="https://minhabolsacheia.files.wordpress.com/2011/02/3x41.jpg"/>
                    </div>
                </md-card-title-media>
            </md-card-title>

            <md-tabs md-dynamic-height md-border-bottom>
                <md-tab label="Dados pessoais">

                    <div flex layout="row">

                        <div layout-gt-xs="row">

                            <md-input-container  class="md-block" flex-gt-xs>
                                <label>RG</label>
                                <input  name="rg" ng-model="crudVm.entity.pessoa.rg" required>
                                <div ng-messages="formEdit.rg.$error">
                                    <div ng-message="required">Campo obrigatório.</div>
                                </div>
                            </md-input-container>

                            <md-input-container class="md-block" flex-gt-xs>
                                <label>CPF</label>
                                <input  name="cpf" ng-model="crudVm.entity.pessoa.cpf" ui-br-cpf-mask required>
                                <div ng-messages="formEdit.cpf.$error">
                                    <div ng-message="required">Campo obrigatório.</div>
                                </div>
                            </md-input-container>

                            <md-input-container class="md-block" flex-gt-sm>
                                <label>Sexo</label>
                                <md-select ng-model="crudVm.entity.pessoa.sexo">
                                    <md-option ng-repeat="item in crudVm.sexos" ng-value="{{item.id}}">
                                        {{item.nome}}
                                    </md-option>
                                </md-select>
                                <div ng-messages="formEdit.sexo.$error">
                                    <div ng-message="required">Campo obrigatório.</div>
                                </div>

                            </md-input-container>

                            <!--<md-input-container  class="md-block" flex-gt-xs>
                                <label>Cor</label>
                                <md-select ng-model="crudVm.entity.pessoa.cor">
                                    <md-option ng-repeat="item in crudVm.entity.pessoa.cor" ng-value="{{item.id}}">
                                        {{item.nome}}
                                    </md-option>
                                </md-select>
                            </md-input-container>-->

                            <md-input-container class="md-block" flex-gt-xs>
                                <label>Cor</label>
                                <md-select ng-model="crudVm.entity.pessoa.cor">
                                    <md-option ng-repeat="item in crudVm.pessoa" ng-value="{{item}}" ng-selected="item.id === crudVm.entity.pessoa.cor.id" >
                                        {{item.nome}}
                                    </md-option>
                                </md-select>
                            </md-input-container>

                            <md-datepicker ng-model="crudVm.entity.pessoa.dataNascimento" md-placeholder="00/00/0000." ng-required></md-datepicker>
                            <!--<label>Data de nascimento</label>-->
                            <div ng-messages="formEdit.dataNascimento.$error">
                                <div ng-message="required">Campo obrigatório.</div>
                            </div>


                        </div>
                    </div>


                    <div flex layout="row">
                        <div layout-gt-xs="row">
                            <md-input-container  class="md-block" flex-gt-xs>
                                <label>Endereço</label>
                                <input  name="endereco" ng-model="crudVm.entity.pessoa.endereco" required>
                                <div ng-messages="formEdit.endereco.$error">
                                    <div ng-message="required">Campo obrigatório.</div>
                                </div>
                            </md-input-container>

                            <md-input-container class="md-block" flex-gt-xs>
                                <label>Bairro</label>
                                <input  name="bairo" ng-model="crudVm.entity.pessoa.bairro" required>
                                <div ng-messages="formEdit.bairro.$error">
                                    <div ng-message="required">Campo obrigatório.</div>
                                </div>
                            </md-input-container>

                            <md-input-container class="md-block" flex-gt-xs>
                                <label>CEP</label>
                                <input  name="cep" ng-model="crudVm.entity.pessoa.cep" ui-br-cep-mask required>
                                <div ng-messages="formEdit.cep.$error">
                                    <div ng-message="required">Campo obrigatório.</div>
                                </div>
                            </md-input-container>

                            <md-input-container  class="md-block" flex-gt-xs>
                                <label>Telefone celular</label>
                                <input  name="telCelular" ng-model="crudVm.entity.pessoa.telCelular" ui-br-phone-number required>
                                <div ng-messages="formEdit.telCelular.$error">
                                    <div ng-message="required">Campo obrigatório.</div>
                                </div>
                            </md-input-container>

                            <md-input-container class="md-block" flex-gt-xs>
                                <label>Telefone fixo</label>
                                <input  name="telFixo" ng-model="crudVm.entity.pessoa.telFixo" ui-br-phone-number required>
                                <div ng-messages="formEdit.telFixo.$error">
                                    <div ng-message="required">Campo obrigatório.</div>
                                </div>
                            </md-input-container>

                        </div>
                    </div>


                </md-tab>

                <md-tab label="Cargos">
                    <md-table-container>
                        <table md-table>
                            <thead md-head>
                                <tr md-row>
                                    <th md-column md-numeric ></th>
                                    <th md-column ><span>Cargo</span></th>             
                                    <th md-column ><span>Unidade</span></th>             
                                    <th md-column ><span>Empresa</span></th>             
                                    <th md-column ><span>Admissão</span></th>             
                                    <th md-column ><span>Demissão</span></th>             
                                </tr>
                            </thead>
                            <tbody md-body>
                                <tr md-row ng-repeat="row in crudVm.entity.funcionarioCargos">
                                    <td md-cell width="15" class="button-column">

                            <md-button class="md-icon-button md-subhead" style="font-size:7px"    aria-label="Edit" ng-click="crudVm.mostraEditCargo(row)">
                                <md-icon  md-svg-icon="edit" class="md-display-1">edit</md-icon>
                            </md-button>
                            </td>
                            <td md-cell>{{row.cargo.nome}}</td>   
                            <td md-cell>{{row.unidade.nome}}</td>   
                            <td md-cell>{{row.unidade.empresa.nome}}</td>   
                            <td md-cell>{{row.dataEntrada| date:'dd/MM/yyyy'}}</td>   
                            <td md-cell>{{row.dataSaida| date:'dd/MM/yyyy'}}</td>   

                            </tr>
                            </tbody>
                        </table>
                    </md-table-container>
                    <md-card-actions layout="row" layout-align="end center">
                        <button class="md-button md-raised md-primary" type="button" ng-click="crudVm.mostraAddCargo()">
                            <ng-md-icon icon="add"></ng-md-icon>
                        </button>
                    </md-card-actions>
                </md-tab>
                <md-tab label="three">
                    <md-content class="md-padding">
                        <h1 class="md-display-2">Tab Three</h1>
                        <p>Integer turpis erat, porttitor vitae mi faucibus, laoreet interdum tellus. Curabitur posuere molestie dictum. Morbi eget congue risus, quis rhoncus quam. Suspendisse vitae hendrerit erat, at posuere mi. Cras eu fermentum nunc. Sed id ante eu orci commodo volutpat non ac est. Praesent ligula diam, congue eu enim scelerisque, finibus commodo lectus.</p>
                    </md-content>
                </md-tab>
            </md-tabs>
        </md-card-content>
    </md-card>
</form>
